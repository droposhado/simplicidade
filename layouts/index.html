{{ define "main" }}
      <div class="container">

    {{ partial "translation.html" . }}
    {{ partial "logo.html" . }}
    {{ if .Site.Params.showNav }}
        {{ partial "nav.html" . }}
    {{ end }}

    <div class="row">
      <div class="col-md-8 offset-md-2 gy-4">
        <h1>
          {{ .Title }}
        </h1>
      </div>
    </div>

    <div class="row">
      <div class="col-md-8 offset-md-2 gy-4">
        {{ .Content }}
      </div>
    </div>

    {{ with index .Site.Data.projects .Site.Language.Lang }}
      <div class="row">
        <div class="col-md-8 offset-md-2 text-center gy-5">
          <h2>
            {{ i18n "projects" | lower }}
          </h2>
        </div>
      </div>

      {{ $counter := 1 }}
      {{ $total := sub (. | len) 1 }}
      {{ range $index, $element := sort . "name" "asc" }}

        {{ if gt ( add $index 1 ) $.Site.Params.projectsListLimit }}
          {{ continue }}
        {{ end}}

        {{ if eq $counter 1 }}
          <div class="row">
            <div class="col-md-4 offset-md-2 gy-4">
        {{ end }}

        <div class="card">
          <div class="card-body">
            <h5 class="card-title">{{ $element.name }}</h5>
            <h6 class="card-subtitle mb-2 text-muted">
              {{ range $element.skill }}
                <span class="badge bg-secondary">{{ . }}</span>
              {{ end }}
            </h6>
            <p class="card-text" style="min-height: 5rem;">
              {{ $element.description | markdownify }}
            </p>
            {{ if $element.url }}
              <a href="{{ $element.url }}" class="card-link">
                site
              </a>
            {{ end }}
          </div>
        </div>

        {{ if eq $counter 1 }}
            </div>
          <div class="col-md-4 gy-4">
        {{ end }}

        {{ if eq $counter 2 }}
            </div>
           </div>
          {{ $counter = 0 }}
        {{ end }}

        {{/* if total number is odd, force close in last */}}
        {{ if eq $total $index }}
            </div>
          </div>
        {{ end }}

        {{ $counter = add $counter 1 }}

      {{ end }}

      <div class="row">
        <div class="col-md-8 offset-md-2 text-end gy-4">
          <a href="/{{ i18n "projects" | lower }}/">
            {{ i18n "seeMore" | lower }}
          </a>
        </div>
      </div>

    {{ end }}

      <div class="row">
        <div class="col-md-4 offset-md-2 d-flex align-items-center
            justify-content-center gy-5 border border-5 border-light
            border-start-0 border-top-0 border-bottom-0">
          <h2>
            <a href="/{{ i18n "posts" | lower }}/">
              posts
            </a>
          </h2>
        </div>
        <div class="col-md-4 gy-5 ps-4">

          {{- range first .Site.Params.postsListLimit (where .Paginator.Pages "Params.hidden" "ne" "true") }}
            <p class="gap-4">
              <small class="text-muted">
                {{ .Date.Format "2006-01-02" }}
              </small><br />
              <a href="{{ .Permalink }}">
                {{ .Title }}
              </a>
            </p>
          {{- end }}
        </p>
      </div>
    </div>
    </div>
    {{ with .Site.Data.now.weekly.twitch.latest }}
      {{ if gt ._total "0" }}
        <div class="row">
          <div class="col-md-8 offset-md-2 gy-5">
            <h2>Lives</h2>
          </div>
        </div>
        <div class="row">
          <div class="col-md-8 offset-md-2 gy-4">
            <ul class="list-unstyled">
              {{- range $l, $lval := .videos }}
                <!-- Limit items in home page list-->
                {{ if lt $l $.Site.Params.livesListLimit }}
                  <li>
                    {{ dateFormat "2006-01-02" .published_at }}
                    <a href="{{ .url }}">
                      {{ .title }}
                    </a>
                    (<i>{{ .game }}</i>)
                  </li>
                {{- end }}
              {{- end }}
            </ul>
            <p>
              <a href="{{ .Site.Params.twitchVideosUrl }}">
                {{ i18n "seeMore" }}{{ .Site.Params.twitchVideosUrl }}{{ .Site.twitchVideosUrl }}
              </a>
            </p>
          </div>
        </div>
      {{ end }}
    {{ end }}

    {{ partial "footer.html" . }}

  </div>
{{ end }}
